fips_begin_app(BattleApp windowed)
    if (FIPS_EMSCRIPTEN)
        add_definitions(-DBATTLE_EMSCRIPTEN=1)
        add_definitions(-DBATTLE_LOAD_DATA_FROM_WEB=1)
    endif()

    fips_files(BattleApp.cc)
    fips_files(Camera.cc)
    fips_files(Controls.cc)
    fips_files(MapFile.cc)
    fips_files(Renderer.cc)
    fips_files(Resources.cc)

    fips_files(pystring/pystring.h)
    fips_files(pystring/pystring.cpp)

    fips_generate(FROM files.yml TYPE filecopy OUT_OF_SOURCE ARGS "{ deploy_dir: \"${FIPS_PROJECT_DEPLOY_DIR}\" }")
    oryol_shader(shaders.glsl)
    fips_deps(Gfx Assets HttpFS LocalFS Input IO)
fips_end_app()
